!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["exports","react","prop-types"],o):o(t["React LiveChat"]={},t.React,t.PropTypes)}(this,function(t,o,n){"use strict";o=o&&o.hasOwnProperty("default")?o.default:o,n=n&&n.hasOwnProperty("default")?n.default:n;var e=function(t){function o(){return function(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o),function(t,o){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?t:o}(this,t.apply(this,arguments))}return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);t.prototype=Object.create(o&&o.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(t,o):t.__proto__=o)}(o,t),o.prototype.componentWillMount=function(){this.loadLiveChatApi.bind(this)()},o.prototype.chatLoaded=function(){window.LC_API&&(this.setCallbacks.bind(this)(),"function"==typeof this.props.onChatLoaded&&this.props.onChatLoaded(window.LC_API))},o.prototype.chatNotLoaded=function(){"function"==typeof this.props.onChatLoaded&&this.props.onChatLoaded("error when loading")},o.prototype.loadLiveChatApi=function(){if(!window.LC_API){window.__lc=window.__lc||{},window.__lc.license=this.props.license,window.__lc.group=this.props.group;var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.livechatinc.com/tracking.js";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(t,o),t.addEventListener("load",this.chatLoaded.bind(this)),t.addEventListener("error",this.chatNotLoaded.bind(this))}},o.prototype.render=function(){return null},o.prototype.setCallbacks=function(){"function"==typeof this.props.onBeforeLoad&&(window.LC_API.on_before_load=this.props.onBeforeLoad.bind(this)),"function"==typeof this.props.onAfterLoad&&(window.LC_API.on_after_load=this.props.onAfterLoad()),"function"==typeof this.props.onChatWindowOpened&&(window.LC_API.on_chat_window_opened=this.props.onChatWindowOpened.bind(this)),"function"==typeof this.props.onChatWindowMinimized&&(window.LC_API.on_chat_window_minimized=this.props.onChatWindowMinimized.bind(this)),"function"==typeof this.props.onChatWindowHidden&&(window.LC_API.on_chat_window_hidden=this.props.onChatWindowHidden.bind(this)),"function"==typeof this.props.onChatStateChanged&&(window.LC_API.on_chat_state_changed=this.props.onChatStateChanged.bind(this)),"function"==typeof this.props.onChatStarted&&(window.LC_API.on_chat_started=this.props.onChatStarted.bind(this)),"function"==typeof this.props.onChatEnded&&(window.LC_API.on_chat_ended=this.props.onChatEnded.bind(this)),"function"==typeof this.props.onMessage&&(window.LC_API.on_message=this.props.onMessage.bind(this)),"function"==typeof this.props.onTicketCreated&&(window.LC_API.on_ticket_created=this.props.onTicketCreated.bind(this)),"function"==typeof this.props.onPrechatSurveySubmitted&&(window.LC_API.on_prechat_survey_submitted=this.props.onPrechatSurveySubmitted.bind(this)),"function"==typeof this.props.onRatingSubmitted&&(window.LC_API.on_rating_submitted=this.props.onRatingSubmitted.bind(this)),"function"==typeof this.props.onRatingCommentSubmitted&&(window.LC_API.on_rating_comment_submitted=this.props.onRatingCommentSubmitted.bind(this))},o}(o.Component);e.propTypes={license:n.number.isRequired,group:n.number,onChatLoaded:n.func,onBeforeLoad:n.func,onAfterLoad:n.func,onChatWindowOpened:n.func,onChatWindowMinimized:n.func,onChatWindowHidden:n.func,onChatStateChanged:n.func,onChatStarted:n.func,onChatEnded:n.func,onMessage:n.func,onTicketCreated:n.func,onPrechatSurveySubmitted:n.func,onPostchatSurveySubmitted:n.func,onRatingSubmitted:n.func,onRatingCommentSubmitted:n.func},e.defaultProps={group:0},t.default=e,Object.defineProperty(t,"__esModule",{value:!0})});
